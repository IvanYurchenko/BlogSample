@using BlogSample.ViewModels
@model PostViewModel

@{
	ViewBag.Title = "Blog";
}

<h2>Blog</h2>

<div class="row">
	<div class="col-md-4">
		@using (Ajax.BeginForm("AddPost", new AjaxOptions
		{
			HttpMethod = "POST",
		}))
		{
			<p>
				@Html.LabelFor(m => m.Username)
				@Html.TextBoxFor(m => m.Username)
			</p>
			<p>
				@Html.LabelFor(m => m.Date)
				@Html.TextBoxFor(m => m.Date)
			</p>
			<p>
				@Html.LabelFor(m => m.Gender)
				@Html.DropDownList("gender-dropdown", Model.GendersList)
			</p>
			<p>
				@Html.LabelFor(m => m.Body)
				@Html.TextAreaFor(m => m.Body)
			</p>
		}
	</div>
	<div id="posts-container">
		@Html.Partial("_Posts", new List<PostViewModel>())
	</div>
</div>

<script src="~/Scripts/posts.js"></script>
<script src="~/Scripts/posts-pushing.js"></script>